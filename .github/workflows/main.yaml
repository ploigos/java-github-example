# This Github workflow will run jobs to build java-app.
name: java-app
on:
  push:
  pull_request_target:
    types:
      - opened
      - edited
      - synchronize
permissions:
  pull-requests: write
jobs:
  minimal:
    uses: ploigos/ploigos-github-workflows/.github/workflows/minimal.yaml@main
    with:
      verbose: 'false'
      image: 'ubi8-minimal'
      imagePullPolicy: 'Always'
      stepRunnerPackageName: 'psr'
      venvPath: '.'
      stepName: 'test-step'
      stepRunnerConfigDir: '/opt/'
      url: 'http://test/'
      revision: 'rev2'
      deleteExisting: 'true'
      sslVerify: 'false'
      refspec: '+refs/heads/$(params.appRepoRef):$(params.appRepoRef)'
      pgpKeysSecretName: 'testsecret'
      stepRunnerUpdateLibrary: 'testlib'
      stepRunnerLibSourceUrl: 'http://test/'
      stepRunnerLibIndexUrl: 'http://test/'
      stepRunnerLibExtraIndexUrl: 'http://test/'
      stepRunnerLibVersion: 'v3'
